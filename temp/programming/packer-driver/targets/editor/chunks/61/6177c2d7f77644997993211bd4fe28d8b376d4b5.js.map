{"version":3,"sources":["file:///Users/michael/Desktop/gitfiles/coscos_oop_frame_wrok/assets/core/common/log/Logger.ts"],"names":["Logger","log","LogLevel","LogType","names","tags","level","DEBUG","lc","instance","_instance","init","setLoggerConsole","Net","Model","Business","View","Config","Trace","Info","Warn","Error","setTags","tag","setLevel","start","describe","console","time","end","timeEnd","table","msg","isOpen","trace","color","print","logNet","orange","logModel","violet","logBusiness","blue","logView","green","logConfig","gray","debug","printWithLevel","info","warn","WARN","error","ERROR","levelName","backLog","call","getDateString","stack","type","index","e","lines","split","result","forEach","line","substring","lineBreak","length","push","list","splitList","value","a","concat","lastIndexOf","r","d","Date","str","getHours","toString","timeStr","getMinutes","getSeconds","getMilliseconds"],"mappings":"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","sourcesContent":["import { log } from \"cc\";\n\n/** 日志级别(数字越大级别越高) */\nexport enum LogLevel {\n    /** 调试 */\n    DEBUG = 0,\n    /** 信息 */\n    INFO = 1,\n    /** 警告 */\n    WARN = 2,\n    /** 错误 */\n    ERROR = 3,\n    /** 关闭所有日志 */\n    OFF = 999\n}\n\n/** 日志类型(用于分类) */\nexport enum LogType {\n    /** 网络层日志 */\n    Net = 1,\n    /** 数据结构层日志 */\n    Model = 2,\n    /** 业务逻辑层日志 */\n    Business = 4,\n    /** 视图层日志 */\n    View = 8,\n    /** 配置日志 */\n    Config = 16,\n    /** 标准日志 */\n    Trace = 32,\n    /** 信息日志 */\n    Info = 64,\n    /** 警告日志 */\n    Warn = 128,\n    /** 错误日志 */\n    Error = 256,\n}\n\nvar names = {\n    \"1\": \"网络日志\",\n    \"2\": \"数据日志\",\n    \"4\": \"业务日志\",\n    \"8\": \"视图日志\",\n    \"16\": \"配置日志\",\n    \"32\": \"标准日志\",\n    \"64\": \"信息日志\",\n    \"128\": \"警告日志\",\n    \"256\": \"错误日志\",\n}\n\nexport interface ILoggerConsole {\n    trace(content: string, color: string): void;\n}\n\n/** \n * 日志管理 \n * @help    https://gitee.com/dgflash/oops-framework/wikis/pages?sort_id=12037904&doc_id=2873565\n * @example\n// 按类型分类的日志\noops.log.trace(\"默认标准日志\");\noops.log.logConfig(\"灰色配置日志\");\noops.log.logNet(\"橙色网络日志\");\noops.log.logModel(\"紫色数据日志\");\noops.log.logBusiness(\"蓝色业务日志\");\noops.log.logView(\"绿色视图日志\");\n\n// 按级别分类的日志\noops.log.debug(\"调试信息\");\noops.log.info(\"普通信息\");\noops.log.warn(\"警告信息\");\noops.log.error(\"错误信息\");\n\n// 设置日志级别(只显示 WARN 及以上)\noops.log.setLevel(LogLevel.WARN);\n\n// 设置类型过滤(兼容原有方式)\noops.log.setTags(LogType.Net | LogType.Business);\n */\nexport class Logger {\n    private static _instance: Logger;\n    static get instance(): Logger {\n        if (this._instance == null) {\n            this._instance = new Logger();\n            this._instance.init();\n        }\n        return this._instance;\n    }\n\n    private tags: number = 0;\n    private level: LogLevel = LogLevel.DEBUG;  // 新增:日志级别\n    private lc: ILoggerConsole = null!;\n\n    /** 设置界面日志控制台 */\n    setLoggerConsole(lc: ILoggerConsole) {\n        this.lc = lc;\n    }\n\n    private init(): void {\n        this.tags =\n            LogType.Net |\n            LogType.Model |\n            LogType.Business |\n            LogType.View |\n            LogType.Config |\n            LogType.Trace |\n            LogType.Info |\n            LogType.Warn |\n            LogType.Error;\n    }\n\n    /** \n     * 设置显示的日志类型,默认值为不显示任何类型日志\n     * @example\noops.log.setTags(LogType.View|LogType.Business)\n     */\n    setTags(tag: LogType = null!) {\n        if (tag) {\n            this.tags = tag;\n        }\n    }\n\n    /**\n     * 设置日志级别(只显示该级别及以上的日志)\n     * @example\noops.log.setLevel(LogLevel.WARN);  // 只显示 WARN 和 ERROR\n     */\n    setLevel(level: LogLevel) {\n        this.level = level;\n    }\n\n    /**\n     * 记录开始计时\n     * @param describe  标题描述\n     */\n    start(describe: string = \"Time\"): void {\n        console.time(describe);\n    }\n\n    /**\n     * 打印范围内时间消耗\n     * @param describe  标题描述\n     */\n    end(describe: string = \"Time\"): void {\n        console.timeEnd(describe);\n    }\n\n    /**\n     * 打印表格\n     * @param msg       日志消息\n     * @param describe  标题描述\n     */\n    table(msg: any, describe?: string) {\n        if (!this.isOpen(LogType.Trace)) {\n            return;\n        }\n        console.table(msg);\n    }\n\n    /**\n     * 打印标准日志\n     * @param msg       日志消息\n     */\n    trace(msg: any, color: string = \"#000000ff\") {\n        this.print(LogType.Trace, msg, color);\n    }\n\n    /**\n     * 打印网络层日志\n     * @param msg       日志消息\n     * @param describe  标题描述\n     */\n    logNet(msg: any, describe?: string) {\n        this.orange(LogType.Net, msg, describe);\n    }\n\n    /**\n     * 打印数据层日志\n     * @param msg       日志消息\n     * @param describe  标题描述\n     */\n    logModel(msg: any, describe?: string) {\n        this.violet(LogType.Model, msg, describe);\n    }\n\n    /**\n     * 打印业务层日志\n     * @param msg       日志消息\n     * @param describe  标题描述\n     */\n    logBusiness(msg: any, describe?: string) {\n        this.blue(LogType.Business, msg, describe);\n    }\n\n    /**\n     * 打印视图日志\n     * @param msg       日志消息\n     * @param describe  标题描述\n     */\n    logView(msg: any, describe?: string) {\n        this.green(LogType.View, msg, describe);\n    }\n\n    /** 打印配置日志 */\n    logConfig(msg: any, describe?: string) {\n        this.gray(LogType.Config, msg, describe);\n    }\n\n    // ========== 新增:标准日志级别方法 ==========\n    \n    /**\n     * 调试日志(DEBUG级别)\n     * @param msg       日志消息\n     * @param describe  标题描述\n     */\n    debug(msg: any, describe?: string) {\n        this.printWithLevel(LogLevel.DEBUG, \"调试\", msg, \"#808080\", describe);\n    }\n\n    /**\n     * 信息日志(INFO级别)\n     * @param msg       日志消息\n     * @param describe  标题描述\n     */\n    info(msg: any) {\n        this.trace(msg);\n    }\n\n    /**\n     * 警告日志(WARN级别)\n     * @param msg       日志消息\n     * @param describe  标题描述\n     */\n    warn(msg: any, describe?: string) {\n        this.printWithLevel(LogLevel.WARN, \"警告\", msg, \"#ffd700\", describe);\n    }\n\n    /**\n     * 错误日志(ERROR级别)\n     * @param msg       日志消息\n     * @param describe  标题描述\n     */\n    error(msg: any, describe?: string) {\n        this.printWithLevel(LogLevel.ERROR, \"错误\", msg, \"#ff0000\", describe);\n    }\n\n    // ========== 私有颜色方法 ==========\n\n    // 橙色\n    private orange(tag: LogType, msg: any, describe?: string) {\n        this.print(tag, msg, \"#ee7700\", describe)\n    }\n\n    // 紫色\n    private violet(tag: LogType, msg: any, describe?: string) {\n        this.print(tag, msg, \"#800080\", describe)\n    }\n\n    // 蓝色\n    private blue(tag: LogType, msg: any, describe?: string) {\n        this.print(tag, msg, \"#3a5fcd\", describe)\n    }\n\n    // 绿色\n    private green(tag: LogType, msg: any, describe?: string) {\n        this.print(tag, msg, \"#008000\", describe)\n    }\n\n    // 灰色\n    private gray(tag: LogType, msg: any, describe?: string) {\n        this.print(tag, msg, \"#808080\", describe)\n    }\n\n    private isOpen(tag: LogType): boolean {\n        return (this.tags & tag) != 0;\n    }\n\n    /**\n     * 按级别输出日志(不受 tags 控制,只受 level 控制)\n     */\n    private printWithLevel(level: LogLevel, levelName: string, msg: any, color: string, describe?: string) {\n        // 级别不够,不打印\n        if (level < this.level) {\n            return;\n        }\n\n        if (this.lc == null) {\n            const backLog = console.log || log;\n            color = \"color:\" + color + \";\";\n            if (describe) {\n                backLog.call(null, \"%c%s[%s]%s:%s%o\", color, this.getDateString(), levelName, this.stack(5), describe, msg);\n            }\n            else {\n                backLog.call(null, \"%c%s[%s]%s:%o\", color, this.getDateString(), levelName, this.stack(5), msg);\n            }\n        }\n        else {\n            this.lc.trace(`${this.getDateString()}[${levelName}]${msg}`, color);\n        }\n    }\n\n    /**\n     * 输出日志(按类型控制)\n     * @param tag       日志类型\n     * @param msg       日志内容\n     * @param color     日志文本颜色\n     * @param describe  日志标题描述\n     */\n    private print(tag: LogType, msg: any, color: string, describe?: string) {\n        // 标记没有打开,不打印该日志\n        if (!this.isOpen(tag)) {\n            return;\n        }\n\n        const type = names[tag];\n        if (this.lc == null) {\n            const backLog = console.log || log;\n            color = \"color:\" + color + \";\";\n            if (describe) {\n                backLog.call(null, \"%c%s%s%s:%s%o\", color, this.getDateString(), '[' + type + ']', this.stack(5), describe, msg);\n            }\n            else {\n                backLog.call(null, \"%c%s%s%s:%o\", color, this.getDateString(), '[' + type + ']', this.stack(5), msg);\n            }\n        }\n        else {\n            this.lc.trace(`${this.getDateString()}[${type}]${msg}`, color);\n        }\n    }\n\n    private stack(index: number): string {\n        const e = new Error();\n        const lines = e.stack!.split(\"\\n\");\n        const result: Array<any> = [];\n        lines.forEach((line) => {\n            line = line.substring(7);\n            var lineBreak = line.split(\" \");\n            if (lineBreak.length < 2) {\n                result.push(lineBreak[0]);\n            }\n            else {\n                result.push({ [lineBreak[0]]: lineBreak[1] });\n            }\n        });\n\n        let list: string[] = [];\n        let splitList: Array<string> = [];\n        if (index < result.length - 1) {\n            let value: string;\n            for (let a in result[index]) {\n                splitList = a.split(\".\");\n\n                if (splitList.length == 2) {\n                    list = splitList.concat();\n                }\n                else {\n                    value = result[index][a];\n                    const start = value!.lastIndexOf(\"/\");\n                    const end = value!.lastIndexOf(\".\");\n                    if (start > -1 && end > -1) {\n                        const r = value!.substring(start + 1, end);\n                        list.push(r);\n                    }\n                    else {\n                        list.push(value);\n                    }\n                }\n            }\n        }\n\n        if (list.length == 1) {\n            return \"[\" + list[0] + \".ts]\";\n        }\n        else if (list.length == 2) {\n            return \"[\" + list[0] + \".ts->\" + list[1] + \"]\";\n        }\n        return \"\";\n    }\n\n    private getDateString(): string {\n        let d = new Date();\n        let str = d.getHours().toString();\n        let timeStr = \"\";\n        timeStr += (str.length == 1 ? \"0\" + str : str) + \":\";\n        str = d.getMinutes().toString();\n        timeStr += (str.length == 1 ? \"0\" + str : str) + \":\";\n        str = d.getSeconds().toString();\n        timeStr += (str.length == 1 ? \"0\" + str : str) + \":\";\n        str = d.getMilliseconds().toString();\n        if (str.length == 1) str = \"00\" + str;\n        if (str.length == 2) str = \"0\" + str;\n        timeStr += str;\n\n        timeStr = \"[\" + timeStr + \"]\";\n        return timeStr;\n    }\n}"]}