{"version":3,"sources":["file:///Users/michael/Desktop/gitfiles/coscos_oop_frame_wrok/assets/core/common/utils/utils.ts"],"names":["utils","LayerType","getLayerKey","layer","promisify","fn","args","Promise","resolve","reject","err","data","console","error","enumKeys","e","Object","keys","filter","k","isNaN","Number","enumEntries","map","enumValues","_","v"],"mappings":";;;yCAEaA,K;;;;;;;;;;;;;;AAFJC,MAAAA,S,iBAAAA,S;;;;;;;uBAEID,K,GAAN,MAAMA,KAAN,CAAY;AAGf;AACJ;AACA;AACA;AACsB,eAAXE,WAAW,CAACC,KAAD,EAA2B;AACzC,iBAAO;AAAA;AAAA,sCAAUA,KAAV,CAAP;AACH;AACD;AACJ;AACA;AACA;AACA;AACA;;;AACoB,eAATC,SAAS,CACZC,EADY,EAGF;AAAA,4CADPC,IACO;AADPA,YAAAA,IACO;AAAA;;AACV,iBAAO,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACpCJ,YAAAA,EAAE,CAAC,GAAGC,IAAJ,EAAU,CAACI,GAAD,EAAoBC,IAApB,KAAgC;AACxC,kBAAID,GAAJ,EAAS;AACLE,gBAAAA,OAAO,CAACC,KAAR,CAAc,mBAAd,EAAmCH,GAAnC;AACAD,gBAAAA,MAAM,CAACC,GAAD,CAAN;AACH,eAHD,MAGO;AACHF,gBAAAA,OAAO,CAACG,IAAD,CAAP;AACH;AACJ,aAPC,CAAF;AAQH,WATM,CAAP;AAUH;AAED;AACJ;AACA;;;AACmB,eAARG,QAAQ,CAAIC,CAAJ,EAAoB;AAC/B,iBAAOC,MAAM,CAACC,IAAP,CAAYF,CAAZ,EAAeG,MAAf,CAAsBC,CAAC,IAAIC,KAAK,CAACC,MAAM,CAACF,CAAD,CAAP,CAAhC,CAAP;AACH;AAED;AACJ;AACA;;;AACsB,eAAXG,WAAW,CAAIP,CAAJ,EAAuC;AACrD,iBAAOf,KAAK,CAACc,QAAN,CAAeC,CAAf,EAAkBQ,GAAlB,CAAsBJ,CAAC,IAAI,CAACA,CAAD,EAAKJ,CAAD,CAAWI,CAAX,CAAJ,CAA3B,CAAP;AACH;AAED;AACJ;AACA;;;AACqB,eAAVK,UAAU,CAAIT,CAAJ,EAA+B;AAC5C,iBAAOf,KAAK,CAACsB,WAAN,CAAkBP,CAAlB,EAAqBQ,GAArB,CAAyB;AAAA,gBAAC,CAACE,CAAD,EAAIC,CAAJ,CAAD;AAAA,mBAAYA,CAAZ;AAAA,WAAzB,CAAP;AACH;;AAnDc,O","sourcesContent":["import { LayerType } from \"../enum/ui-layer.enum\";\n\nexport class utils {\n\n\n    /** 获取层级枚举的字符串键名\n     * @param layer 层级枚举值\n     * @returns 层级枚举的字符串键名\n     */\n    static getLayerKey(layer: LayerType): string {\n        return LayerType[layer] as string;\n    }\n    /**\n     * 通用 Promise 包装工具\n     * 将回调风格的 API 转换为 Promise 风格\n     * @param fn 需要 Promise 化的函数\n     * @param args 传递给函数的参数\n     */\n    static promisify<T = any>(\n        fn: (...args: any[]) => void,\n        ...args: any[]\n    ): Promise<T> {\n        return new Promise((resolve, reject) => {\n            fn(...args, (err: Error | null, data: T) => {\n                if (err) {\n                    console.error('[utils.promisify]', err);\n                    reject(err);\n                } else {\n                    resolve(data);\n                }\n            });\n        });\n    }\n\n    /**\n     * 返回枚举的键（排除反向映射的数字键）\n     */\n    static enumKeys<E>(e: E): string[] {\n        return Object.keys(e).filter(k => isNaN(Number(k)));\n    }\n\n    /**\n     * 返回枚举的 [键, 值] 列表\n     */\n    static enumEntries<E>(e: E): [string, number | string][] {\n        return utils.enumKeys(e).map(k => [k, (e as any)[k]]);\n    }\n\n    /**\n     * 返回枚举的值列表（数字或字符串）\n     */\n    static enumValues<E>(e: E): (number | string)[] {\n        return utils.enumEntries(e).map(([_, v]) => v);\n    }\n}\n\n"]}