{"version":3,"sources":["file:///Users/michael/Desktop/gitfiles/coscos_oop_frame_wrok/assets/core/gui/base/UISingletonLayerNode.ts"],"names":["UISingletonLayerNode","UILayerNodeBase","Fwk","constructor","name","addView","uiInfo","ui_nodes","size","MAX_NODES","log","warn","Promise","reject"],"mappings":";;;qGAMaA,oB;;;;;;;;;;;;;;;;;;;;;;;;;;;;AALJC,MAAAA,e,iBAAAA,e;;AAGAC,MAAAA,G,iBAAAA,G;;;;;;;;;sCAEIF,oB,GAAN,MAAMA,oBAAN;AAAA;AAAA,8CAAmD;AAItDG,QAAAA,WAAW,CAACC,IAAD,EAAe;AACtB,gBAAMA,IAAN;AACH;;AAEYC,QAAAA,OAAO,CAACC,MAAD,EAAqC;AAAA;AAAA;;AAAA;AAErD,gBAAI,KAAI,CAACC,QAAL,CAAcC,IAAd,IAAsBR,oBAAoB,CAACS,SAA/C,EAA0D;AACtD;AAAA;AAAA,8BAAIC,GAAJ,CAAQC,IAAR;AACA,qBAAOC,OAAO,CAACC,MAAR,0DAAP;AACH;;AAED,yBAAa,oCAAcP,MAAd,CAAb;AAPqD;AAQxD;;AAhBqD,O;;AAA7CN,MAAAA,oB,CAEeS,S,GAAY,C","sourcesContent":["import { Node, Prefab, UI, instantiate } from \"cc\";\nimport { UILayerNodeBase } from \"../base/UILayerNodeBase\";\nimport { UIViewState } from \"./UIViewState\";\nimport { UIElementComponent } from \"../layer/UIElementComponent\";\nimport { Fwk } from \"../../Fwks\";\n\nexport class UISingletonLayerNode extends UILayerNodeBase {\n\n    private static readonly MAX_NODES = 1\n\n    constructor(name: string) {\n        super(name);\n    }\n\n    public async addView(uiInfo: UIViewState): Promise<Node> {\n\n        if (this.ui_nodes.size >= UISingletonLayerNode.MAX_NODES) {\n            Fwk.log.warn(`UISingletonLayerNode: 达到最大节点数限制，无法添加新节点`);\n            return Promise.reject(`达到最大节点数限制`);\n        }\n\n        return await super.addView(uiInfo);\n    }\n\n\n\n}\n"]}